2025-11-22 18:38:55,378 | INFO | app.request | - | [START] POST /analyze/
2025-11-22 18:38:57,635 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "packaged"
}
```
2025-11-22 18:38:57,637 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "packaged"
}
2025-11-22 18:39:05,668 | ERROR | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "packaged",
  "items": [
    {
      "food_name": "Vanilla Cupcake",
      "serving_description": "1 cupcake",
      "calories": 100,
      "protein_grams": 1,
      "carb_grams": 15,
      "fat_grams": 4,
      "confidence_level": "Low"
    }
  ],
  "overall_confidence": "High"
}
2025-11-22 18:39:05,669 | ERROR | app.services.gemini_client | - | CLEANED JSON CANDIDATE:
{
  "type": "packaged",
  "items": [
    {
      "food_name": "Vanilla Cupcake",
      "serving_description": "1 cupcake",
      "calories": 100,
      "protein_grams": 1,
      "carb_grams": 15,
      "fat_grams": 4,
      "confidence_level": "Low"
    }
  ],
  "overall_confidence": "High"
}
2025-11-22 18:39:05,682 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-22 18:39:05,684 | INFO | root | - | POST /analyze/ completed in 10304.53 ms
2025-11-22 18:45:42,053 | INFO | app.request | - | [START] POST /analyze/
2025-11-22 18:45:44,412 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "packaged"
}
```
2025-11-22 18:45:44,412 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "packaged"
}
2025-11-22 18:45:53,729 | ERROR | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "packaged",
  "items": [
    {
      "food_name": "Vanilla Cupcake",
      "serving_description": "1 cupcake",
      "calories": 120,
      "protein_grams": 2,
      "carb_grams": 20,
      "fat_grams": 7,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-22 18:45:53,733 | ERROR | app.services.gemini_client | - | CLEANED JSON CANDIDATE:
{
  "type": "packaged",
  "items": [
    {
      "food_name": "Vanilla Cupcake",
      "serving_description": "1 cupcake",
      "calories": 120,
      "protein_grams": 2,
      "carb_grams": 20,
      "fat_grams": 7,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-22 18:45:53,738 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-22 18:45:53,738 | INFO | root | - | POST /analyze/ completed in 11688.89 ms
2025-11-23 21:17:18,661 | INFO | app.request | - | [START] GET /health
2025-11-23 21:17:18,665 | INFO | app.request | - | [END] GET /health → 200
2025-11-23 21:17:18,666 | INFO | root | - | GET /health completed in 5.52 ms
2025-11-23 21:17:18,702 | INFO | app.request | - | [START] GET /favicon.ico
2025-11-23 21:17:18,704 | ERROR | root | - | HTTP Error: Not Found
2025-11-23 21:17:18,705 | INFO | app.request | - | [END] GET /favicon.ico → 404
2025-11-23 21:17:18,708 | INFO | root | - | GET /favicon.ico completed in 5.73 ms
2025-11-23 21:17:30,365 | INFO | app.request | - | [START] GET /docs
2025-11-23 21:17:30,368 | INFO | app.request | - | [END] GET /docs → 200
2025-11-23 21:17:30,369 | INFO | root | - | GET /docs completed in 4.59 ms
2025-11-23 21:17:31,405 | INFO | app.request | - | [START] GET /openapi.json
2025-11-23 21:17:31,423 | INFO | app.request | - | [END] GET /openapi.json → 200
2025-11-23 21:17:31,425 | INFO | root | - | GET /openapi.json completed in 19.44 ms
2025-11-23 21:18:53,329 | INFO | app.request | - | [START] POST /analyze/
2025-11-23 21:18:55,053 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-23 21:18:55,064 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-23 21:19:00,162 | ERROR | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "One whole avocado, cut in half",
      "calories": 270,
      "protein_grams": 3,
      "carb_grams": 15,
      "fat_grams": 25,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-23 21:19:00,168 | ERROR | app.services.gemini_client | - | CLEANED JSON CANDIDATE:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "One whole avocado, cut in half",
      "calories": 270,
      "protein_grams": 3,
      "carb_grams": 15,
      "fat_grams": 25,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-23 21:19:00,170 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-23 21:19:00,173 | INFO | root | - | POST /analyze/ completed in 6844.91 ms
2025-11-23 21:35:24,944 | INFO | app.request | - | [START] GET /health
2025-11-23 21:35:24,956 | INFO | app.request | - | [END] GET /health → 200
2025-11-23 21:35:24,960 | INFO | root | - | GET /health completed in 16.43 ms
2025-11-23 21:36:55,137 | INFO | app.request | - | [START] GET /docs
2025-11-23 21:36:55,141 | ERROR | root | - | HTTP Error: Not Found
2025-11-23 21:36:55,143 | INFO | app.request | - | [END] GET /docs → 404
2025-11-23 21:36:55,145 | INFO | root | - | GET /docs completed in 8.48 ms
2025-11-24 03:47:44,710 | INFO | app.request | - | [START] POST /analyze/
2025-11-24 03:47:46,377 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "/app/app/services/food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-24 03:47:46,412 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-24 03:47:46,417 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-24 03:47:46,419 | INFO | root | - | POST /analyze/ completed in 1717.52 ms
2025-11-24 03:55:15,348 | INFO | app.request | - | [START] POST /analyze/
2025-11-24 03:55:16,136 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "/app/app/services/food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-24 03:55:16,152 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-24 03:55:16,161 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-24 03:55:16,173 | INFO | root | - | POST /analyze/ completed in 829.08 ms
2025-11-24 04:01:06,667 | INFO | app.request | - | [START] POST /analyze/
2025-11-24 04:01:11,283 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "/app/app/services/food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-24 04:01:11,289 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-24 04:01:11,293 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-24 04:01:11,295 | INFO | root | - | POST /analyze/ completed in 4628.79 ms
2025-11-24 04:02:02,625 | INFO | app.request | - | [START] POST /analyze/
2025-11-24 04:02:03,747 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "/app/app/services/food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-24 04:02:03,752 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-24 04:02:03,763 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-24 04:02:03,770 | INFO | root | - | POST /analyze/ completed in 1145.76 ms
2025-11-24 04:02:24,854 | INFO | app.request | - | [START] POST /analyze/
2025-11-24 04:02:25,854 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "/app/app/services/food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-24 04:02:25,871 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-24 04:02:25,888 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-24 04:02:25,898 | INFO | root | - | POST /analyze/ completed in 1058.55 ms
2025-11-24 04:02:42,258 | INFO | app.request | - | [START] GET /health
2025-11-24 04:02:42,268 | INFO | app.request | - | [END] GET /health → 200
2025-11-24 04:02:42,272 | INFO | root | - | GET /health completed in 14.4 ms
2025-11-30 07:22:02,269 | INFO | app.request | - | [START] GET /health
2025-11-30 07:22:02,277 | INFO | app.request | - | [END] GET /health → 200
2025-11-30 07:22:02,279 | INFO | root | - | GET /health completed in 10.02 ms
2025-11-30 07:22:02,315 | INFO | app.request | - | [START] GET /favicon.ico
2025-11-30 07:22:02,320 | ERROR | root | - | HTTP Error: Not Found
2025-11-30 07:22:02,323 | INFO | app.request | - | [END] GET /favicon.ico → 404
2025-11-30 07:22:02,331 | INFO | root | - | GET /favicon.ico completed in 17.29 ms
2025-11-30 07:47:27,472 | INFO | app.request | - | [START] GET /health
2025-11-30 07:47:27,477 | INFO | app.request | - | [END] GET /health → 200
2025-11-30 07:47:27,478 | INFO | root | - | GET /health completed in 7.0 ms
2025-11-30 07:48:48,756 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:48:49,660 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-30 07:48:49,670 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-30 07:48:49,671 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:48:49,672 | INFO | root | - | POST /analyze/ completed in 917.54 ms
2025-11-30 07:48:52,276 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:48:53,101 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-30 07:48:53,103 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-30 07:48:53,104 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:48:53,104 | INFO | root | - | POST /analyze/ completed in 828.82 ms
2025-11-30 07:50:58,480 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:50:58,944 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 07:50:58,949 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 07:50:58,951 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:50:58,951 | INFO | root | - | POST /analyze/ completed in 470.46 ms
2025-11-30 07:51:09,800 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:51:10,262 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 07:51:10,268 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 07:51:10,271 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:51:10,273 | INFO | root | - | POST /analyze/ completed in 472.42 ms
2025-11-30 07:53:22,738 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:53:23,211 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 07:53:23,225 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 07:53:23,228 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:53:23,229 | INFO | root | - | POST /analyze/ completed in 490.64 ms
2025-11-30 07:54:12,290 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:54:12,845 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 07:54:12,855 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 07:54:12,857 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:54:12,858 | INFO | root | - | POST /analyze/ completed in 568.41 ms
2025-11-30 07:56:24,619 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:56:25,097 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 07:56:25,111 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 07:56:25,114 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:56:25,115 | INFO | root | - | POST /analyze/ completed in 496.69 ms
2025-11-30 07:56:53,029 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 07:56:53,511 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.
2025-11-30 07:56:53,522 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 403 Your API key was reported as leaked. Please use another API key.'}
2025-11-30 07:56:53,523 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 07:56:53,524 | INFO | root | - | POST /analyze/ completed in 495.34 ms
2025-11-30 08:02:45,843 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:02:46,403 | ERROR | app.services.food_classifier | - | Type classification failed
Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\app\services\food_classifier.py", line 50, in detect_type
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\calorie-tracker-backend\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-11-30 08:02:46,410 | ERROR | root | - | HTTP Error: {'error': 'CLASSIFICATION_ERROR', 'message': '502: Failed to classify food type: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"\ndomain: "googleapis.com"\nmetadata {\n  key: "service"\n  value: "generativelanguage.googleapis.com"\n}\n, locale: "en-US"\nmessage: "API key expired. Please renew the API key."\n]'}
2025-11-30 08:02:46,411 | INFO | app.request | - | [END] POST /analyze/ → 400
2025-11-30 08:02:46,412 | INFO | root | - | POST /analyze/ completed in 568.08 ms
2025-11-30 08:03:46,990 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:03:48,666 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:03:48,670 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:03:52,185 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "2 halves (1 medium avocado)",
      "calories": 320,
      "protein_grams": 4,
      "carb_grams": 18,
      "fat_grams": 30,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:03:52,188 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:03:52,189 | INFO | root | - | POST /analyze/ completed in 5199.3 ms
2025-11-30 08:04:52,316 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:04:53,687 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:04:53,688 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:04:56,761 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "1 whole avocado (cut in half)",
      "calories": 230,
      "protein_grams": 3,
      "carb_grams": 12,
      "fat_grams": 20,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:04:56,766 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:04:56,767 | INFO | root | - | POST /analyze/ completed in 4450.52 ms
2025-11-30 08:07:28,517 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:07:29,954 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:07:29,957 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:07:34,152 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "One whole avocado (two halves)",
      "calories": 280,
      "protein_grams": 4,
      "carb_grams": 15,
      "fat_grams": 25,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:07:34,154 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:07:34,156 | INFO | root | - | POST /analyze/ completed in 5639.78 ms
2025-11-30 08:17:41,221 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:17:42,828 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:17:42,829 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:17:46,517 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "Two halves of a medium avocado",
      "calories": 240,
      "protein_grams": 3,
      "carb_grams": 13,
      "fat_grams": 22,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:17:46,522 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:17:46,524 | INFO | root | - | POST /analyze/ completed in 5303.49 ms
2025-11-30 08:18:34,871 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:18:36,179 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:18:36,181 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:18:40,584 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "One half",
      "calories": 160,
      "protein_grams": 2,
      "carb_grams": 9,
      "fat_grams": 15,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:18:40,588 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:18:40,589 | INFO | root | - | POST /analyze/ completed in 5717.92 ms
2025-11-30 08:18:45,848 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:18:47,340 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:18:47,343 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:18:52,776 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "1-2 grilled chicken breasts",
      "calories": 200,
      "protein_grams": 35,
      "carb_grams": 0,
      "fat_grams": 7,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:18:52,780 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:18:52,782 | INFO | root | - | POST /analyze/ completed in 6934.74 ms
2025-11-30 08:22:57,541 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:22:59,045 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:22:59,047 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:23:14,306 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "A plate of grilled chicken breasts",
      "calories": 240,
      "protein_grams": 35,
      "carb_grams": 0,
      "fat_grams": 8,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:23:14,311 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:23:14,313 | INFO | root | - | POST /analyze/ completed in 16772.15 ms
2025-11-30 08:26:03,620 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:26:04,903 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:26:04,905 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:26:08,181 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{"type": "fresh", "items": [{"food_name": "Grilled Chicken Breast", "serving_description": "1 medium breast (approx. 4 oz)", "calories": 170, "protein_grams": 32, "carb_grams": 0, "fat_grams": 4, "confidence_level": "High"}], "overall_confidence": "High"}
2025-11-30 08:26:08,184 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:26:08,186 | INFO | root | - | POST /analyze/ completed in 4567.76 ms
2025-11-30 08:31:07,624 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:31:09,344 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:31:09,346 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:31:16,001 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken",
      "serving_description": "plate of 5-6 grilled chicken pieces",
      "calories": 500,
      "protein_grams": 90,
      "carb_grams": 0,
      "fat_grams": 12,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:31:16,005 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:31:16,008 | INFO | root | - | POST /analyze/ completed in 8385.32 ms
2025-11-30 08:36:06,850 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 08:36:09,347 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 08:36:09,352 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 08:36:17,579 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled chicken",
      "serving_description": "3 pieces",
      "calories": 180,
      "protein_grams": 28,
      "carb_grams": 0,
      "fat_grams": 5,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 08:36:17,589 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 08:36:17,595 | INFO | root | - | POST /analyze/ completed in 10746.43 ms
2025-11-30 09:09:31,660 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 09:09:33,388 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 09:09:33,393 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 09:09:44,137 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "1 medium grilled chicken breast (approx. 4 oz)",
      "calories": 140,
      "protein_grams": 32,
      "carb_grams": 0,
      "fat_grams": 4,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 09:09:44,141 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 09:09:44,143 | INFO | root | - | POST /analyze/ completed in 12482.87 ms
2025-11-30 11:01:59,794 | INFO | app.request | - | [START] GET /health
2025-11-30 11:01:59,802 | INFO | app.request | - | [END] GET /health → 200
2025-11-30 11:01:59,805 | INFO | root | - | GET /health completed in 11.99 ms
2025-11-30 11:02:14,237 | INFO | app.request | - | [START] GET /status
2025-11-30 11:02:14,240 | INFO | app.request | - | [END] GET /status → 307
2025-11-30 11:02:14,242 | INFO | root | - | GET /status completed in 6.0 ms
2025-11-30 11:02:14,246 | INFO | app.request | - | [START] GET /status/
2025-11-30 11:02:14,252 | INFO | app.request | - | [END] GET /status/ → 200
2025-11-30 11:02:14,253 | INFO | root | - | GET /status/ completed in 7.51 ms
2025-11-30 11:08:14,994 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 11:08:17,386 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 11:08:17,389 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 11:08:23,745 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "1 portion (approx. 4 oz / 113g)",
      "calories": 180,
      "protein_grams": 32,
      "carb_grams": 0,
      "fat_grams": 8,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 11:08:23,760 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 11:08:23,765 | INFO | root | - | POST /analyze/ completed in 8772.52 ms
2025-11-30 11:20:05,729 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 11:20:07,336 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 11:20:07,339 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 11:20:25,698 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Tenders",
      "serving_description": "Plate with multiple pieces",
      "calories": 380,
      "protein_grams": 65,
      "carb_grams": 0,
      "fat_grams": 15,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 11:20:25,700 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 11:20:25,701 | INFO | root | - | POST /analyze/ completed in 19971.92 ms
2025-11-30 11:26:42,587 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 11:26:43,818 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 11:26:43,820 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 11:26:49,463 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "2-3 pieces (approx. 4 oz)",
      "calories": 170,
      "protein_grams": 30,
      "carb_grams": 0,
      "fat_grams": 4,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 11:26:49,465 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 11:26:49,466 | INFO | root | - | POST /analyze/ completed in 6879.82 ms
2025-11-30 11:45:57,667 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 11:45:59,026 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 11:45:59,031 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 11:46:05,605 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "1 serving (6-7 pieces)",
      "calories": 200,
      "protein_grams": 30,
      "carb_grams": 0,
      "fat_grams": 9,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 11:46:05,619 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 11:46:05,625 | INFO | root | - | POST /analyze/ completed in 7958.43 ms
2025-11-30 12:09:18,605 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 12:09:20,208 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 12:09:20,211 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 12:09:32,659 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breast",
      "serving_description": "Approximately 6 pieces of grilled chicken tenders/small cutlets",
      "calories": 410,
      "protein_grams": 78,
      "carb_grams": 0,
      "fat_grams": 9,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 12:09:32,660 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 12:09:32,661 | INFO | root | - | POST /analyze/ completed in 14056.43 ms
2025-11-30 12:11:40,057 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 12:11:41,858 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 12:11:41,859 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 12:11:45,470 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Avocado",
      "serving_description": "one whole avocado (two halves)",
      "calories": 260,
      "protein_grams": 3,
      "carb_grams": 14,
      "fat_grams": 25,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 12:11:45,473 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 12:11:45,474 | INFO | root | - | POST /analyze/ completed in 5417.32 ms
2025-11-30 13:50:41,112 | INFO | app.request | - | [START] POST /analyze/
2025-11-30 13:50:42,885 | ERROR | app.services.food_classifier | - | [Classifier] RAW OUTPUT:
```json
{
  "type": "fresh"
}
```
2025-11-30 13:50:42,895 | ERROR | app.services.food_classifier | - | [Classifier] CLEANED JSON:
{
  "type": "fresh"
}
2025-11-30 13:50:54,050 | WARNING | app.services.gemini_client | - | RAW GEMINI OUTPUT:
{
  "type": "fresh",
  "items": [
    {
      "food_name": "Grilled Chicken Breasts",
      "serving_description": "1 serving (approx. 4 oz / 113g)",
      "calories": 180,
      "protein_grams": 30,
      "carb_grams": 0,
      "fat_grams": 5,
      "confidence_level": "High"
    }
  ],
  "overall_confidence": "High"
}
2025-11-30 13:50:54,052 | INFO | app.request | - | [END] POST /analyze/ → 200
2025-11-30 13:50:54,054 | INFO | root | - | POST /analyze/ completed in 12941.93 ms
